<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="css/bootstrap.min.css" media="all" rel="stylesheet" type="text/css">
	<link href="css/bootstrap-theme.min.css" media="all" rel="stylesheet" type="text/css">
	<link href="css/font-awesome.min.css" media="all" rel="stylesheet" type="text/css">
	<link href="css/PhotosynQ.css" media="all" rel="stylesheet" type="text/css">
	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/help.js"></script>
	<style>
		body {background-image:url('img/papar_texture.jpg'); margin:0px; padding:0px;}
		body > #container {margin:10px;}
	</style>
</head>
<body>
	<nav class="navbar navbar-inverse navbar-static-top" role="navigation" style="margin-bottom:0px">
	  <div class="container-fluid">
		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="navbar-header">
		  <a class="navbar-brand" href="#">Help</a>
		</div>
		<div class="collapse navbar-collapse">
		</div><!-- /.navbar-collapse -->
	  </div><!-- /.container-fluid -->
	</nav>
	<div class="container-fluid" id="MainDisplayContainer" style="padding:5px;overflow:hidden; overflow-y: auto;">
		<div class="row">
			<div class="col-md-3 col-lg-2">
				<div class="panel panel-body" data-spy="affix">
					<ul class="nav nav-pills nav-stacked">
						<li><a href="#HelpDeviceConnect"><i class="fa fa-chain"></i> Connect your device</a></li>
						<li><a href="#HelpSignIn"><i class="fa fa-lock"></i> Sign in to PhotosynQ</a></li>
						<li><a href="#HelpNotifications"><i class="fa fa-bell"></i> Notifications</a></li>
						<li><a href="#HelpInternetConnection"><i class="fa fa-cloud"></i> Internet connection</a></li>
						<li><a href="#HelpYourLocation"><i class="fa fa-location-arrow"></i> Your Location</a></li>
						<li><a href="#HelpSelectExperiment"><i class="fa fa-flask"></i> Select an experiment</a></li>
						<li><a href="#HelpTakeMeasurement"><i class="fa fa-bar-chart-o"></i> Take a measurement</a></li>
						<li><a href="#HelpQuickMeasurement"><i class="fa fa-rocket"></i> Quick measurements</a></li>
						<li><a href="#HelpConsole"><i class="fa fa-terminal"></i> Console</a></li>
						<li><a href="#HelpTools"><i class="fa fa-briefcase"></i> Tools</a></li>
						<li><a href="#HelpDevice"><i class="fa fa-info-circle"></i> Device</a></li>
						<li><a href="#HelpManualControl"><i class="fa fa-sliders"></i> Manual Control</a></li>
					</ul>
					<small id="AppVersion" class="text-muted"></small>
				</div>				
			</div>
			<div class="col-md-9 col-lg-10 text-justify">
				<div class="panel panel-body">
					<div class="page-header">
					  <h1>Working with PhotosynQ <small> and MultispeQ</small></h1>
					</div>
					<div id="HelpDeviceConnect">
						<h3><i class="fa fa-chain"></i> Connect your device</h3>
						You can connect your device to your computer using a micro-USB <a href="http://en.wikipedia.org/wiki/USB#Mini_and_Micro_connectors" target="_blank"><i class="fa fa-external-link"></i></a>
						cable or using bluetooth <a href="http://en.wikipedia.org/wiki/Bluetooth" target="_blank"><i class="fa fa-external-link"></i></a>. See
						instructions below for the major operating systems.<br>
						Once you have connected your device, open up the app and click on the <i class="fa fa-chain-broken"></i> 
						symbol in the menu bar. Select the port for your device and click on the Connect button.
						The Status will change to &quot; MultspeQ Ready&quot; if the port is correct and you have 
						successfully connected your device. If you have the wrong port, select another one and connect
						again. If your app was already running while you connected your device, click on the <i class="fa fa-refresh"></i>
						button to refresh the list of ports and then select your device port.<br>
						<em class="text-info"><i class="fa fa-info-circle"></i> If you have connect your device successfully, the port will be saved
						and used for auto-connection the next time you open the app. The <i class="fa fa-chain"></i> symbol appears
						in the menu bar.</em>
						<div class="row">
						<!-- Windows instructions -->
						<div class="col-md-4">
						<h4 class="text-primary"><i class="fa fa-windows"></i> Windows</h4>
						<p><strong>USB: </strong>
						If it is the first time you are using your device, you have to download the windows serial installer from the
						<a href="https://www.pjrc.com/teensy/td_download.html" target="_blank">teensy project</a> and run the installation.
						Follow the instructions on the website.<br>
						Switch on your device first! Plug in the micro-USB cable into your computer, and then into your device. After a short
						time an alert will appear telling a new serial device is found and ready to use.<br>
						<em class="text-info"><i class="fa fa-info-circle"></i> Your device port is <strong>COM{some number}.</strong></em>
						</p>
						<p><strong>Bluetooth: </strong>
						Search for bluetooth devices and pair your device. The required code is <strong>1234</strong>.<br>
						<em class="text-info"><i class="fa fa-info-circle"></i> Your device port is <strong>COM{some number}.</strong></em>
						</p>
						</div>
			
						<!-- Mac instructions -->
						<div class="col-md-4">
						<h4 class="text-primary"><i class="fa fa-apple"></i> Mac OSX</h4>
						<p><strong>USB: </strong>
						Plug in the micro-USB cable into your computer, and then into your device. It doesn't matter
						if you switch on your device before or after you plug in the micro-USB cable.<br>
						<em class="text-info"><i class="fa fa-info-circle"></i> Your device port is <strong>usbmodem{some number}.</strong></em>
						</p>
						<p><strong>Bluetooth: </strong>
						Switch on your device. Open up the System Preferences and select Bluetooth. After a
						short time your device will show up in the devices list. Click on the pair button.
						The pairing will fail, so click on the options button, enter the code <strong>1234</strong>
						and click on the pair button. Your device will show up in the devices list as a
						connected device.<br>
						<em class="text-info"><i class="fa fa-info-circle"></i> Your device port is the <strong>name as in the system preferences.</strong></em>
						</p>
						</div>
			
						<!-- Linux instructions -->
						<div class="col-md-4">
						<h4 class="text-primary"><i class="fa fa-linux"></i> Linux</h4>
						<p><strong>USB: </strong>
						Plug in the micro-USB cable into your computer, and then into your device. It doesn't matter
						if you switch on your device before or after you plug in the micro-USB cable.<br>
						<em class="text-info"><i class="fa fa-info-circle"></i> Your device port is <strong>ACM{some numer}</strong>. Most likely it will be the
						first one in the list.</em>
						</p>
						<p><strong>Bluetooth: </strong>
						Currently not supported.
						</p>
						</div>
			
						</div>
						<h4 class="text-primary"><i class="fa fa-chain-broken"></i> Disconnect your device</h4>
						When you close the application, all ports are automatically closed and your device will be disconnected.
						If you prefer to do it manually, the <i class="fa fa-chain"></i> symbol in the menu bar and click on the
						Disconnect button. The status will change to &quot;Not Connected&quot;. Then switch of your device.

						<h4 class="text-primary"><i class="fa fa-bug"></i> Troubleshooting</h4>
						Sometimes the serial port is not properly opened or closed. Then close the app and disconnect your device.
						Wait a few seconds and then reconnect.
					</div>
					<hr>
					<div id="HelpSignIn">
						<h3><i class="fa fa-lock"></i> Sign in to PhotosynQ</h3>
						In order to fully use the MultispeQ and participate in projects on the PhotosynQ website, you have to log
						in, in order to receive a list of projects, measurement protocols and data crunching macros.<br>
						Click on the <i class="fa fa-lock"></i> icon and enter your email address and your password. When you
						are successfully signed in, your avatar, name and email address appears as well as the Sign off button.<br>
						If you don't have 
						<em><i class="fa fa-info-circle"></i> Make sure that you have an internet connection when you try to sign in.</em>
					</div>
					<hr>
					<div id="HelpNotifications">
						<h3><i class="fa fa-bell"></i> Notifications</h3>
						All notifications that appear in the app will pop up in the upper right corner of the main application window. In
						case you missed a notification, just click on the <i class="fa fa-bell"></i> icon in the menu bar and see all
						notifications that have been shown so far. Notifications can be discarded with the button underneath the list, as
						well as the get discarded when the application is closed.
					</div>		
					<hr>
					<div id="HelpInternetConnection">
						<h3><i class="fa fa-cloud"></i> Internet connection</h3>
						In order to contribute data or update your projects, protocols, etc. you need an internet connection and you have 
						to be <a href="#HelpSignIn">signed in</a>. To check if you are connected, check the <i class="fa fa-cloud"></i> 
						icon in the menu bar. If it appears greyed out, no connection is found. Check your connection and restart the app.
						If you click on the icon you can see the disc usage for all parts of the application. It also allows you to update
						your app content by clicking on &quot;Update App Content&quot;.
					</div>
					<hr>
					<div id="HelpYourLocation">
						<h3><i class="fa fa-location-arrow"></i> Your Location</h3>
						The app is trying to determine your location based on your IP address. In the menu bar the <i class="fa fa-location-arrow"></i>
						icon displays the status. If it is grayed out, the search was unsuccessful.<br>
						<em class="text-info"><i class="fa fa-info-circle"></i> Keep in mind that this method can be very inaccurate, but right now the only one that is available.</em>
					</div>
					<hr>
					<div id="HelpSelectExperiment">
						<h3><i class="fa fa-flask"></i> Select an experiment</h3>
						This is the point to start if you want to participate in a project. Select a project from the drop-down box and
						click on the select button. All the information on the project will be displayed, as well as a link to the
						project website. The dialog, Take a Measurement expands and shows the project related questions you have to
						answer in order to take a measurement.<br>
						<em class="text-info"><i class="fa fa-info-circle"></i> Currently you need an internet connection to see the images when you open the project the first time.</em>
						To join new projects click on &quot;Join a new project&quot;
					</div>
					<hr>
					<div id="HelpTakeMeasurement">
						<h3><i class="fa fa-bar-chart-o"></i> Take a measurement</h3>
						Once you have selected a project you want to participate, you have to answer some questions in regard to your
						measurement / sample. You have to answer all questions in order to take the measurement. Make sure your device
						is connected properly, before you start a measurement. If you check the checkbox &quot;Remember my answers&quot;
						you can take multiple measurements with the same set of answers. Otherwise, each time you have to select the
						answers again. Once the measurement is done, you can decide, wether you want to keep the results or you want to
						discard them. Once you click on keep, the results are added to the project.<br>
						<em class="text-info"><i class="fa fa-info-circle"></i> You only need an internet connection when you start the app. Later your
						measurements get cached and submitted, the next time you have an internet connection available.</em>
					</div>
					<hr>
					<div id="HelpQuickMeasurement">
						<h3><i class="fa fa-rocket"></i> Quick measurements</h3>
						Here you can find all the measurement protocols available from the website. Select a protocol from the
						selection box and click the start button to run the protocol. Make sure your device is connected properly.
						The recorded measurements can be saved to your computer. To view it you can use any text editing program or
						use the <a href="#HelpTools">Data Viewer</a> tool to look at the data again.<br>
						<em class="text-info"><i class="fa fa-info-circle"></i> Macros get applied to Quick Measurements.</em>
					</div>
					<hr>
					<div id="HelpConsole">
						<h3><i class="fa fa-terminal"></i> Console</h3>
						The console provides the biggest freedom to communicate with your device. You can use it in two modes.
						<p><strong>1.</strong> You can enter the script manually and run it. The script gets checked wether it has
						a readable format. The results are displayed as the would, when you perform a Quick Measurement or a
						measurement for a project. The data can be saved to your computer. To view it you can use any text editing 
						program or use the <a href="#HelpTools">Data Viewer</a> tool to look at the data again.<br>
						<em class="text-info"><i class="fa fa-info-circle"></i> Macros get not applied to Console measurements.</em>	
						</p>
						<p><strong>2.</strong> If you check the &quot;Raw input&quot; checkbox you can send any command to the
						device you want. The response is the raw as well, so no data gets graphed or macros are applied. To get
						all available commands look into the firmware documentation.<br>
						<em class="text-info"><i class="fa fa-info-circle"></i> At this point the output cannot be saved.</em>	
						</p>
					</div>
					<hr>
					<div id="HelpTools">
						<h3><i class="fa fa-briefcase"></i> Tools</h3>
						<h4 class="text-primary"><i class="fa fa-eye"></i> Data viewer</h4>
						This tool allows you to view previous measurements that were saved to your hard drive.
						Only measurements from &quot;Quick Measurements&quot; and the &quot;Console&quot; can be saved to
						your local computer. To see measurements taken for projects visit the data 
						viewer on the website. Just select the project and click on the link in the
						description to get to the website.
						<h4 class="text-primary"><i class="fa fa-magic"></i> Protocol assembly</h4>
						This tool allows you to assemble measurement protocols simply by drag 'n drop of the available commands.
						The full documentation will be available here.
						<h4 class="text-primary"><i class="fa fa-puzzle-piece"></i> Macro development</h4>
						This tool allows you to create little code snippets, called <em>macros</em> that are applied to your measurement,
						after it is done, in order to evaluate it on the fly. The programing language used is javascript.<br>
						Open the macro development tool. Click on <i class="fa fa-folder-open"></i> file in the menu and select a locally
						saved measurement you want to apply your macro to. Then select the protocol you want to work with from the upper right panel. If your 
						measurement consists only of one protocol, you cannot select another. By standard, the first Protocol (Protocol 0, because in 
						programming you start counting with 0) is selected. The panel gives you all variables returned from your
						measurement. Just click on one, and its correct name is added to the code on the left large panel. Below that, in case you
						did a spectroscopic measurement, is the intensity trace from the detector. Hover over it and click on a point to
						add its value to your code. To access basic mathematical functions, click on functions in the menu bar and select the
						function you need. It will be added to your code. Just replace values with your set of values.<br>
						If you want to use a macro and modify it, click on available macros, and select the one you need. The code is added to the
						code panel.<br>
						Once your finished, click on the <i class="fa fa-cogs"></i> run button to test your macro. The calculated values or eventual errors are shown in the
						lower right panel. If you're satisfied with your macro, go to the photosynq website and save your macro.
					</div>
					<hr>
					<div id="HelpDevice">
						<h3><i class="fa fa-info-circle"></i> Device</h3>
						<p>Here you can access informations on the device you are currently connected to.</p>
						<p>&quot;Device Info&quot; displays general informations from the device memory.</p>
						<p>&quot;Battery level&quot; gives you an estimate
						of the charge state of the device and if you need to recharge or change your batteries in order to
						take high quality measurements.</p>
						<p>&quot;Calibration Info&quot; displays the current calibrations for your device.
						<p>&quot;Power off&quot; turns off the device if it is running on battery power. If you are connected via
						usb, you can still communicate with the device. In order to take measurements, you have to switch it on
						again to have the battery available.</p>
						<p>&quot;Power of lights&quot; switches off all the lights to save battery.</p>
					</div>
					<hr>
					<div id="HelpManualControl">
						<h3><i class="fa fa-sliders"></i> Manual Control</h3>
						The manual control allows you to use the devices sensors, lights and detectors
						without writing a script, using a quick measurement or selecting a project.
						Make sure your device is connected properly (<a href="#HelpDeviceConnect">Connect
						your device.</a>). Select the sensor, light or detector you want to use
						from the drop-down menu.
						<h4 class="text-primary">Sensors</h4>
						The sensor reads are immediately start outputting data. Roughly every 2 seconds
						the value is updated. The last 30 reads are plotted underneath the most recent read.
						<h4 class="text-primary">Lights</h4>
						If you want to control the lights, select a light-source first, then set the
						intensity and click on &quot;on&quot;. You can change the intensity while the
						lights are on. It will change with a little delay. To switch of the lights click 
						on the &quot;on&quot; button again or close the dialog.
						<h4 class="text-primary">Detectors</h4>
						The detectors work similar to lights. Select a detector from the selection box, enter the 
						integration time (detector read in ms) and click on read. The displayed number 
						above the selection box is the current read. The reads are triggered by the button 
						click, there are no continuos reads.
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>