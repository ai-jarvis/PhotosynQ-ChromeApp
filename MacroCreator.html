<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="css/bootstrap.min.css" media="all" rel="stylesheet" type="text/css">
	<link href="css/bootstrap-theme.min.css" media="all" rel="stylesheet" type="text/css">
	<link href="css/font-awesome.min.css" media="all" rel="stylesheet" type="text/css">
	<link href="css/PhotosynQ.css" media="all" rel="stylesheet" type="text/css">
	<link href="css/codemirror.css" media="all" rel="stylesheet" type="text/css">
	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/math.js"></script>
	<script src="js/toastr.min.js"></script>
	<script src="js/codemirror.js"></script>
	<script src="js/javascript.js"></script>
	<script src="js/macro-creator.js"></script>
	<style>
		body {background-image:url('img/papar_texture.jpg'); margin:0px; padding:0px;}
		.CodeMirror {height:100%}
	</style>
</head>
<body>
	<nav class="navbar navbar-inverse navbar-static-top" role="navigation" style="margin-bottom:0px">
	  <div class="container-fluid">
		<!-- Collect the nav links, forms, and other content for toggling -->
		<a class="navbar-brand" href="http://photosynq.org" target="_blank"><i class="fa fa-puzzle-piece"></i> Macro Development</a>
	  </div><!-- /.container-fluid -->
	</nav>
	<div class="container-fluid" id="MainDisplayContainer" style="padding:5px;overflow:hidden; overflow-y: auto;">
	<div class="row">
		<div class="col-md-8">
			<div class="panel panel-primary">
				<div class="panel-heading" id="ExperimentTitle"><strong><i class="fa fa-code"></i> Code</strong></div>
				<div class="panel-body">
					<div id="CodeMirrorContainer" style="height:600px;"></div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="panel panel-default">
				<div class="panel-heading"><strong><i class="fa fa-cogs"></i> Test Macro</strong></div>
					<div class="panel-body">
						<div class="form-group" style="position: static;">
							<label for="select-1">Iterations</label>
							<select class="form-control" id="MacroTestIterations">
								<option value="1" selected=selected>1</option>
								<option value="10">10</option>
								<option value="100">100</option>
								<option value="1000">1,000</option>
								<option value="10000">10,000</option>
								<option value="100000">100,000</option>
							</select>
							<p class="help-block">Select multiple iterations to see how your macro performs on large datasets.</p>
						</div>
						<button name="TestMacroButton" id="TestMacroButton" value="Run" class="btn btn-primary"><i class="fa fa-play"></i> Run</button>
					</div>
				</div>

			<div class="panel panel-default" id="MacroReturnContent">
				<div class="panel-heading" id="ExperimentTitle"><strong><i class="fa fa-share-square-o"></i> Macro Output</strong></div>
				<div class="panel-body" style="word-wrap: break-word"></div>
			</div>

			<div class="panel panel-default">
				<div class="panel-heading"><strong>Data from Device <small class="text-muted">(JSON string)</small></strong></div>
					<div class="panel-body" style="font-size:12px;height:240px;overflow:auto;">
						<textarea id="JSONString" style="width:100%;min-height:210px" class="form-control">
{"userinput_1_question": "Leaf Location", "userinput_1_answer": "bottom", "userinput_2_question": "Leaf color", "userinput_1_answer": "green","device_id": 1, "firmware_version": "Alfie Arabidopsis", "protocol_number": 2, "protocol_name": "dirk", "baseline_sample": 3229.00,"baseline_values": [0.00,0.00,0.00],"chlorophyll_spad_calibration": [3617.09,41077.26],"light_intensity": 157,"red": 576,"green": 447,"blue": 468,"relative_humidity": 16.13,"temperature": 29.35,"co2_content": 752,"board_temperature": 2.39,"board_temperature": -0.03,"averages": 0,"repeats": 0,"data_raw": [54546.00,9749.00,9467.00,9462.00,9573.00,9574.00,9594.00,9665.00,9697.00,9755.00,9752.00,9745.00,9865.00,9798.00,9825.00,9852.00,9838.00,9873.00,9853.00,9873.00,9857.00,9862.00,9855.00,9854.00,9875.00,9883.00,9892.00,9889.00,9873.00,9888.00,9850.00,9908.00,9898.00,9881.00,9881.00,9898.00,9900.00,9870.00,9892.00,9910.00,9918.00,9891.00,9907.00,9880.00,9892.00,9894.00,9920.00,9875.00,9906.00,9902.00,9887.00,9921.00,9850.00,9889.00,9892.00,9842.00,9913.00,9994.00,9879.00,9906.00,9898.00,9922.00,9902.00,9902.00,9936.00,9912.00,9912.00,9904.00,9904.00,9905.00,9884.00,9934.00,9854.00,9906.00,10016.00,9962.00,9929.00,9919.00,9924.00,9908.00,9936.00,9928.00,9902.00,9933.00,9946.00,9924.00,9922.00,9924.00,9927.00,9927.00,9919.00,9932.00,9913.00,9913.00,9935.00,9914.00,9936.00,9938.00,9941.00,9930.00,0.00,9628.00,9447.00,9287.00,9173.00,9099.00,8945.00,8861.00,8746.00,8676.00,8619.00,8548.00,8468.00,8409.00,8340.00,8303.00,8273.00,8191.00,8068.00,8094.00,8092.00,8041.00,8005.00,7968.00,7989.00,7925.00,7911.00,7865.00,7845.00,7822.00,7808.00,7769.00,7772.00,7755.00,7752.00,7697.00,7714.00,7673.00,7693.00,7704.00,7688.00,7666.00,7652.00,7638.00,7641.00,7653.00,7608.00,7611.00,7664.00,7610.00,7604.00,7585.00,7609.00,7516.00,7565.00,7593.00,7568.00,7563.00,7562.00,7562.00,7546.00,7542.00,7548.00,7534.00,7576.00,7547.00,7520.00,7450.00,7498.00,7507.00,7509.00,7507.00,7524.00,7491.00,7478.00,7501.00,7488.00,7479.00,7464.00,7490.00,7480.00,7466.00,7469.00,7486.00,7408.00,7475.00,7464.00,7455.00,7459.00,7428.00,7457.00,7453.00,7449.00,7433.00,7426.00,7460.00,7504.00,7443.00,7440.00,7437.00,61749.00,9643.00,9676.00,9695.00,9718.00,9813.00,9847.00,9883.00,9887.00,9859.00,9886.00,9908.00,9987.00,9915.00,9914.00,9917.00,9915.00,9914.00,9910.00,9913.00,9914.00,9925.00,9938.00,9923.00,9914.00,9915.00,9984.00,9915.00,9926.00,9995.00,10006.00,9933.00,10012.00,9959.00,9930.00,9927.00,9958.00,9919.00,9909.00,9931.00,9885.00,9868.00,9977.00,9920.00,9995.00,9931.00,9924.00,9958.00,10010.00,9931.00,9930.00,9926.00,9947.00,9928.00,9943.00,9925.00,9967.00,9923.00,9965.00,9954.00,9928.00,9958.00,9970.00,9952.00,9940.00,9935.00,9961.00,9942.00,9998.00,9960.00,9947.00,9957.00,10016.00,9954.00,9955.00,9959.00,9952.00,9991.00,9966.00,9919.00,9958.00,9948.00,9961.00,9993.00,9998.00,9966.00,9952.00,9972.00,9978.00,9916.00,9984.00,9964.00,9994.00,9973.00,9914.00,9942.00,9986.00,9953.00,9998.00,9988.00,9988],"end":1}
						</textarea>
					</div>
				</div>
			</div>	
		</div>
	</div>
	<iframe src="Sandbox.html" id="MacroSandbox" style="display:none"></iframe>
</body>
</html>